package br.com.eccomerce.gui;

import java.util.List;
import java.util.Scanner;

import br.com.eccomerce.dao.ProdutoDAO;
import br.com.eccomerce.model.Produto;

public class TerminalGUI {
	public static void menu() {
		
		Scanner leitor = new Scanner(System.in);
		
		boolean continuar = true;
		while(continuar) {
			int escolha;
			System.out.print("\n--- MENU --- \n" 
								+ "1. PRODUTOS\n"
								+ "2. PEDIDOS\n"
								+ "3. CLIENTES\n"
								+ "4. SAIR\n"
								+ "Sua escolha: ");
			escolha = leitor.nextInt();
			System.out.println();
			
			switch(escolha) {
			case 1:
				menuProduto();
				break;
			case 2:
				menuPedido();
				break;
			case 3: 
				menuCliente();
				break;
			case 4:
				System.out.println("Saindo...");
				continuar = false;
				break;
			default:
				System.out.println("Escolha invalida");
				break;
			}
		}
	}
	
	private static void menuProduto() {
		Scanner leitor = new Scanner(System.in);
		
		boolean continuar = true;
		while(continuar) {
			int escolha;
			System.out.print("\n--- MENU PRODUTO --- \n" 
								+ "1. LISTAR PRODUTOS\n"
								+ "2. ADICIONAR PRODUTO\n"
								+ "3. EXCLUIR PRODUTO\n"
								+ "4. MODIFICAR PRODUTO\n"
								+ "5. PROCURAR PRODUTO\n"
								+ "6. VOLTAR\n"
								+ "Sua escolha: ");
			escolha = leitor.nextInt();
			System.out.println();
			
			switch(escolha) {
			case 1:
				listarProduto();
				break;
			case 2:
				adicionarProduto();
				break;
			case 3: 
				excluirProduto();
				break;
			case 4:
				modificarProduto();
				break;
			case 5:
				procurarProduto();
				break;
			case 6:
				System.out.println("Voltando...");
				continuar = false;
				break;
			default:
				System.out.println("Escolha invalida");
				break;
			}
		}
	}
	
	private static void menuPedido() {
		Scanner leitor = new Scanner(System.in);
		
		boolean continuar = true;
		while(continuar) {
			int escolha;
			System.out.print("\n--- MENU PEDIDO --- \n" 
								+ "1. LISTAR PEDIDOS\n"
								+ "2. ADICIONAR PEDIDO\n"
								+ "3. EXCLUIR PEDIDO\n"
								+ "4. MODIFICAR PEDIDO\n"
								+ "5. VOLTAR\n"
								+ "Sua escolha: ");
			escolha = leitor.nextInt();
			System.out.println();
			
			switch(escolha) {
			case 1:
				listarPeidido();
				break;
			case 2:
				adicionarPeidido();
				break;
			case 3: 
				excluirPeidido();
				break;
			case 4:
				modificarPeidido();
				break;
			case 5:
				System.out.println("Voltando...");
				continuar = false;
				break;
			default:
				System.out.println("Escolha invalida");
				break;
			}
		}
	}
	
	private static void menuCliente() {
		Scanner leitor = new Scanner(System.in);
		
		boolean continuar = true;
		while(continuar) {
			int escolha;
			System.out.print("\n--- MENU CLIENTE --- \n" 
								+ "1. LISTAR CLIENTE\n"
								+ "2. ADICIONAR CLIENTE\n"
								+ "3. EXCLUIR CLIENTE\n"
								+ "4. MODIFICAR CLIENTE\n"
								+ "5. VOLTAR\n"
								+ "Sua escolha: ");
			escolha = leitor.nextInt();
			System.out.println();
			
			switch(escolha) {
			case 1:
				listarCliente();
				break;
			case 2:
				adicionarCliente();
				break;
			case 3: 
				excluirCliente();
				break;
			case 4:
				modificarCliente();
				break;
			case 5:
				System.out.println("Voltando...");
				continuar = false;
				break;
			default:
				System.out.println("Escolha invalida");
				break;
			}
		}
	}
	
	private static void listarProduto() {
		List<Produto> produtos = ProdutoDAO.listProduto();
		
		for(Produto produto : produtos) {
			System.out.println(produto.toString());
		}
	}

	private static void adicionarProduto() {
		Scanner leitor = new Scanner(System.in);
		
		System.out.print("Nome: ");
		String nome = leitor.nextLine();
		
		System.out.print("Descrição: ");
		String descricao = leitor.nextLine();
		
		System.out.print("Valor: R$");
		double valor = leitor.nextDouble();
		
		System.out.print("Quantidade: ");
		int quantidade = leitor.nextInt();
		
		Produto produto = new Produto(nome, descricao, valor, quantidade);
		
		ProdutoDAO.saveProduto(produto);
	}

	private static void excluirProduto() {
		Scanner leitor = new Scanner(System.in);
		
		System.out.print("CODIGO DO PRODUTO: ");
		int codigo = leitor.nextInt();
		
		Produto produto = ProdutoDAO.getProduto(codigo);
		
		System.out.print("Deseja excluir(S/N)?  ");
		String resposta = leitor.next();
		
		if(resposta.toCharArray()[0] == 'S' || resposta.toCharArray()[0] == 's') {
			ProdutoDAO.deleteProduto(produto);
		}
		else {
			System.out.println("Nenhum produto foi excluido");
		}
	}
}
